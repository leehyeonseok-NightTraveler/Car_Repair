<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.dao.Mypage_UserDAO">

  <!-- 회원 정보 조회 -->
  <select id="getUserInfo" parameterType="string" resultType="com.boot.dto.AccountDTO">
    SELECT user_name AS userName,
           account_id AS accountId,
           email,
           phone_number AS phoneNumber,
           account_role AS accountRole,
           reg_date AS regDate
    FROM tbl_account
    WHERE account_id = #{accountId}
  </select>

  <!-- 회원 정보 수정 -->
  <update id="updateUserInfo" parameterType="com.boot.dto.AccountDTO">
    UPDATE tbl_account
    SET user_name = #{userName},
        email = #{email},
        phone_number = #{phoneNumber}
    WHERE account_id = #{accountId}
  </update>

</mapper>
